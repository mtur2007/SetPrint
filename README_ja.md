# SetPrint - 高次元データを簡単に整形・表示！
setprintは、リストの多次元データを簡単に整形し、わかりやすく表示するためのPythonライブラリです。
次元が混在するデータ構造でも、手動で空白やフォーマットを調整する必要はありません。自動で美しい整形を実現します！

- ## 特徴
  - **可変的なデータ構造に対応**: 多次元リストや混在するデータ構造を自動で整形。
  - **デバッグに便利**: 実行中のデータの構造や内容をわかりやすく整理して表示。
  - **柔軟なフォーマット**: データの階層や内容をガイド付きで視覚的に整形。


## `set_list` メソッド

 - SetPrintクラスのset_listメソッドは、多次元リストや複雑なデータ構造を簡単に整列し、視覚的にわかりやすい形式で出力する機能を提供します。<br>
 このメソッドを使用することで、データの次元に応じた最適な整形が可能です。

- #### 引数
    - **`guide`** (bool): ガイド表示を有効にするかどうか。
        - `True`の場合、次元やインデックス情報を含むガイドを出力します。
        - デフォルト: `False`

    - **`keep_start`** (int): フラット化を開始する次元。
        - 例: `keep_start=1`で1次元目をY方向に展開。
        - デフォルト: `0`
        
    - **`keeplen`** (int): フラット化する次元の範囲。
        - 指定範囲外の次元はX方向にボックス化されます。
        - デフォルト: 全次元を展開。


- #### 戻り値

    - `input_list`       : 整列元のリスト。
    - `grid_slice`       : 整列後のテキスト情報が格納されたリスト。各行毎に格納されており、そのままテキストファイルなどに書き込むことで結果を確認できます。
    - `grid_block`       : ブロック状の形状を維持したまま整列情報が格納されているリスト。
    - `block_Xlines_data`: `GuidePrint` 関数で詳細なインデックスを表示する際に使用するデータ。


    ### keep_startとデータ整列の関係

    keep_startは、整列を開始する次元を指定する引数で、データの構造や用途に応じた最適なフォーマットで整形を行います。
    以下に、keep_startの値による動作の違いと、適したデータ形式を説明します。

    #### **推奨設定例**

    1. **`keep_start=1`**
        - **用途**: Y方向に展開されるデータ（例: ログや写真データ）。
        - **説明**: 1次元目を基準にY方向にデータを整形。X方向はそのままの形を維持。
        
        - **デバッグログの整形例**

            ```python 
            logs = [
                ["Value", 30, "is", "less than", 50],
                [["Action", "Process"], ["Details", "Valid range"]],
                [["Value", 90], ["Condition", ["greater than", 50]], ["Action", "Alert"]],
            ]
            ```

        - **整形結果**:
            ```plaintext
            整形後のログ:
            =================================================================================================================================

            |  ►list [ Value   ------ -------      30   --------- -----------   ------------ --        is   ------ -----   less than 50 ]   |
            |  ►list [ ►list { Action Process ) ►list {   Details Valid range   ------------ --   ) -----   ------ -----   --------- -- ]   |
            |  ►list [ ►list {  Value      90 ) ►list { Condition       ►list { greater than 50 ) ) ►list { Action Alert ) --------- -- ]   |

            =================================================================================================================================
            ```
        - **実行例**

            ```python
            from setprint import SetPrint

            # データを整形して表示
            list_data = SetPrint(logs)
            set_datas = list_data.set_list(guide=False, keep_start=1, keeplen=10)

            print("\n整形後のログ:")
            for line in set_datas['grid_slice']:
                print(line[:-1])  # 整形されたログを出力
            ```


    2. **`keep_start=2`**
        - **用途**: X方向に分かれた情報（例: テーブル形式のデータ）。
        - **説明**: 2次元目を基準にX方向に整形し、Y方向の区切りを強調。
        - **例**（テーブルデータ）:
            ```
            [
                ["Name", "Age", "Country"],
                ["Alice", 30, "USA"],
                ["Bob", 25, "UK"]
            ]
            ```

        - **整形結果**:
            ```plaintext
            整形後のテーブル:
            ====================================
              {} |  {n}                        |
                 |-----------------------------|
                 :                             :
                 |  data_type: <class 'list'>  |
                 |  data_type: <class 'list'>  |
                 |  data_type: <class 'list'>  |

            ====================================
             {0} |  [0]{n}                     |
                 |-----------------------------|
                 :                             :
                 |     Name                    |
                 |      Age                    |
                 |  Country                    |

            ====================================
             {1} |  [1]{n}                     |
                 |-----------------------------|
                 :                             :
                 |  Alice                      |
                 |     30                      |
                 |    USA                      |

            ====================================
             {2} |  [2]{n}                     |
                 |-----------------------------|
                 :                             :
                 |  Bob                        |
                 |   25                        |
                 |   UK                        |

            ====================================
            ```

        - **コード例**:
            ```python
            data = [
                ["Name", "Age", "Country"],
                ["Alice", 30, "USA"],
                ["Bob", 25, "UK"]
            ]

            list_data = SetPrint(data)
            set_datas = list_data.set_list(guide=True, keep_start=2)

            for line in set_datas['grid_slice']:
                print(line[:-1])
            keep_start=3
            ```

    3. **`keep_start=3`**
        - **用途**: Y方向とX方向の両方に分かれたデータ（例: マトリクスや3次元配列）。
        - **動作**: 3次元目を基準に、データの全体構造を保持しつつ、Y方向とX方向の情報を整理します。
        - **整形例**: 入力データ:
            ```python
            data = [
                [[1, 2], [3, 4]],
                [[5, 6], [7, 8]]
            ]
            ```
        - **整形結果**:
            ```python
            整形後のマトリックス:
            ====================================
              {} |  {n}                        |
                 |-----------------------------|
                 :                             :
                 |  data_type: <class 'list'>  |
                 |  data_type: <class 'list'>  |

            ================================================================
             {0} |  [0]{n}                     |  [0][0]{n}  |  [0][1]{n}  |
                 |-----------------------------|-------------|-------------|
                 :                             :             :             :
                 |  data_type: <class 'list'>  |  1          |  3          |
                 |  data_type: <class 'list'>  |  2          |  4          |

            ================================================================
             {1} |  [1]{n}                     |  [1][0]{n}  |  [1][1]{n}  |
                 |-----------------------------|-------------|-------------|
                 :                             :             :             :
                 |  data_type: <class 'list'>  |  5          |  7          |
                 |  data_type: <class 'list'>  |  6          |  8          |

            ================================================================
            ```
        - **実行例**

            ```python
            from setprint import SetPrint

            # データを整形して表示
            list_data = SetPrint(data)
            set_datas = list_data.set_list(guide=False, keep_start=3, keeplen=10)

            print("\n整形後のログ:")
            for line in set_datas['grid_slice']:
                print(line[:-1])  # 整形されたログを出力
            ```


- ## SetPrint.pick_guideprint(output_path)

    **`pick_guideprint`**
    set_list(guide = True)で、各ブロックの親元のインデックタイトルが表示されますが、
    存在するブロック内の格納情報にアクセスし、詳細な情報を確認する事ができる、set_listの拡張機能です。

    **表示される情報**:
    - `index`: 現在選択されているデータのインデックス（例: `{y}[x0][x1][x2]`）。
    - `value`: 現在選択されているインデックスに格納されているデータの値。データの値は緑色で表示され、データ型は青色で表示されます。
    ### 引数

    `pick_guideprint` には以下の引数を指定します：

    - `output_path`  : **(必須)** 連動先のテキストファイルのパス。

   
    - **ブロック間の移動**: `f`, `h`, `g`, `t` キーを使用して、異なるブロック間を移動します。
    - **ブロック内の移動**: `a`, `d`, `s`, `w` キーを使用して、現在のブロック内を移動します。
    - **方向**:  ←    →    ↓    ↑  

    ### 実行例
    `• python`
    ```python

    # from setprint import SetPrint
    # list_data = SetPrint(test_list)
    # list_data.set_list(guide=True,keep_start=1,keeplen=10)

    list_data.pick_guideprint(output_path)


    ```

    ### 実行結果 
    `• txt_file`
    ```
        ►list { [0][0] [0][1] [0][2]    ---------  ---------   [0][3]   --------- -----   ------------ ------------     ------ ------ ) 
       ------------------------------- ┏         ┓ -------------------------------------------------------------------------------------
        ►list { [1][0] [1][1]  ►list {  [1][2][0]  [1][2][1] ) [1][3]   --------- -----   ------------ ------------     ------ ------ ) 
       ------------------------------- ┗         ┛ -------------------------------------------------------------------------------------
        ►list { [2][0] [2][1] [2][2]    ---------  ---------    ►list { [2][3][0] ►list { [2][3][1][0] [2][3][1][1] ) ) [2][4] [2][5] ) 
        ►list { [3][0] [3][1] [3][2]    ---------  ---------   [3][3]   --------- -----   ------------ ------------     [3][4] ------ ) 
          [4]   ------ ------ ------    ---------  ---------   ------   --------- -----   ------------ ------------     ------ ------   
    ```
    `• terminal`
    ```
    index \ {1}[2][0]
    value \ [1][2][0] : str
    ```

- ## SetPrint.bloks_border_print()

    `setlist`の出力結果のような、ボックスを生成し、文字列を記入できる機能を、利用できる関数。

    ### 引数

    - `All_blocks`: **(必須)** 表示したい内容を格納したリスト配列。
    - `line_tilte`: **(必須)** y方向のブロックのタイトル
    - `guide`     : **(必須)** タイトル表記の有無。`True` または `False` を指定します。


    ### `All_blocks` 格納例
    ```python
        '''
        # 1次元は、Y方向(ブロック:段)
        # 2次元は、X方向
        # 3次元は、Y方向(内容:行)
        ! 格納場所はすべて ３次元目 である必要があります
        '''
        
                                            1列目                            2列目                            3列目
        All_blocks = [ 
                        [ ['block_title','1line','2line'], ['1_2','1_txt','2_txt'] ],                                      #1step
                        [ ['2_1','1_data','2_data'],       ['2_2','1_line','2_line','3_line'], ['2_3','1_txt','2_txt'] ],  #2step
                        [ ['3_1','1_txt','2_txt'] ]                                                                        #3step

                    ]

        line_title = ['1step','2step','3step']
    ```
    ```
        
            出力結果とAll_blocksの関係性を視覚的に表したもの                  |　　　　　　　　            出力結果
                                                                     　 |
        [                                                            　 |
                                                                     　 |
                           1列目          2列目                          |            
           ========================================                   　|      =====================================
            _____ [ ｜["block_title",｜["1_2",     ｜           　       |       {1step} |  block_title  |  1_2     |
                    ｜---------------｜------------｜           　       |               |---------------|----------|
                    ：               ：            ：           　       |               :               :          :
                    ｜ '1line',      ｜ '1_txt',   ｜           　       |               |  1line        |  1_txt   |
                    ｜ '2line' ],    ｜ '2_txt' ], ｜ ],         　      |               |  2line        |  2_txt   |
                                                                     　 |
           =====================================================      　|      ===============================================
            _____ [ ｜["2-1",        ｜["2-2",     ｜["2_3",    ｜       |       {2step} |  2_1          |  2_2     |  2_3    |
                    ｜---------------｜------------｜-----------｜       |               |---------------|----------|---------|
                    ：               ：            ：           ：       |               :               :          :         :
                    ｜ '1_data',     ｜ '1_line',  ｜ '1_txt',  ｜       |               |  1_data       |  1_line  |  1_txt  |
                    ｜ '2_data' ],   ｜ '2_line',  ｜ '2_txt' ],｜       |               |  2_data       |  2_line  |  2_txt  |
                    ｜               ｜ '3_line' ],｜           ｜ ],    |               |               |  3_line  |         |
                                                                     　 |
           =====================================================      　|      ===============================================
            _____ [ ｜["3-1",        ｜            　           　       |       {3step} |  3_1          |
                    ｜---------------｜            　           　       |               |---------------|
                    ：               ：            　           　       |               :               :
                    ｜ '1_txt',      ｜            　           　       |               |  1_txt        |
                    ｜ '2_txt' ],    ｜ ]          　           　       |               |  2_txt        |
                    　            　               　           　       |
           ===========================                                　|      ==========================
        ]  
    ```

    ### 戻り値

    - `grid_slice`: 整列後のテキスト情報が格納されたリスト。各行毎に格納されており、そのままテキストファイルなどに書き込むことで結果を確認できます。

    ### 実行例
    `• python`
    ```python

    #from setprint import SetPrint

    list_data = SetPrint( `All_blocks` )
    grid_slice = list_data.blocks_border_print(line_title =  `line_title` , guide=True):

    with open('output_path','w') as f:
        for line in grid_slice:
            f.write(line)

    ```